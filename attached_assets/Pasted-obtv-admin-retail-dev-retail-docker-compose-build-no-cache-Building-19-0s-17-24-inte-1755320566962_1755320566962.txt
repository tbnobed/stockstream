obtv-admin@retail-dev:~/retail$ docker-compose build --no-cache
[+] Building 19.0s (17/24)
 => [internal] load local bake definitions                                                                                                                                                                                                                                                                                                                                                                                        0.0s
 => => reading from stdin 509B                                                                                                                                                                                                                                                                                                                                                                                                    0.0s
 => [internal] load build definition from Dockerfile                                                                                                                                                                                                                                                                                                                                                                              0.0s
 => => transferring dockerfile: 1.82kB                                                                                                                                                                                                                                                                                                                                                                                            0.0s
 => [internal] load metadata for docker.io/library/node:18-alpine                                                                                                                                                                                                                                                                                                                                                                 0.3s
 => [internal] load .dockerignore                                                                                                                                                                                                                                                                                                                                                                                                 0.0s
 => => transferring context: 1.17kB                                                                                                                                                                                                                                                                                                                                                                                               0.0s
 => [internal] load build context                                                                                                                                                                                                                                                                                                                                                                                                 0.0s
 => => transferring context: 30.66kB                                                                                                                                                                                                                                                                                                                                                                                              0.0s
 => CACHED [builder 1/6] FROM docker.io/library/node:18-alpine@sha256:8d6421d663b4c28fd3ebc498332f249011d118945588d0a35cb9bc4b8ca09d9e                                                                                                                                                                                                                                                                                            0.0s
 => CACHED [builder 2/6] WORKDIR /app                                                                                                                                                                                                                                                                                                                                                                                             0.0s
 => [production  2/14] RUN apk add --no-cache dumb-init                                                                                                                                                                                                                                                                                                                                                                           1.2s
 => [builder 3/6] COPY package*.json ./                                                                                                                                                                                                                                                                                                                                                                                           0.0s
 => [builder 4/6] RUN npm ci                                                                                                                                                                                                                                                                                                                                                                                                     17.0s
 => [production  3/14] RUN addgroup -g 1001 -S nodejs                                                                                                                                                                                                                                                                                                                                                                             0.3s
 => [production  4/14] RUN adduser -S nextjs -u 1001                                                                                                                                                                                                                                                                                                                                                                              0.3s
 => [production  5/14] WORKDIR /app                                                                                                                                                                                                                                                                                                                                                                                               0.0s
 => [production  6/14] COPY package*.json ./                                                                                                                                                                                                                                                                                                                                                                                      0.1s
 => CANCELED [production  7/14] RUN npm ci && npm cache clean --force                                                                                                                                                                                                                                                                                                                                                            16.7s
 => [builder 5/6] COPY . .                                                                                                                                                                                                                                                                                                                                                                                                        0.0s
 => ERROR [builder 6/6] RUN vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist     && sed -i 's|import\.meta\.dirname|"/app/server"|g' dist/index.js                                                                                                                                                                                                                   0.2s
------
 > [builder 6/6] RUN vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist     && sed -i 's|import\.meta\.dirname|"/app/server"|g' dist/index.js:
0.210 /bin/sh: vite: not found
------
Dockerfile:17

--------------------

  16 |     # Build the application and fix paths for Docker

  17 | >>> RUN vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist \

  18 | >>>     && sed -i 's|import\.meta\.dirname|"/app/server"|g' dist/index.js

  19 |

--------------------

failed to solve: process "/bin/sh -c vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist     && sed -i 's|import\\.meta\\.dirname|\"/app/server\"|g' dist/index.js" did not complete successfully: exit code: 127