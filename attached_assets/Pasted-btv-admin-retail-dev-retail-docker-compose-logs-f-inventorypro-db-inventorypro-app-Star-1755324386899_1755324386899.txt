btv-admin@retail-dev:~/retail$ docker compose logs -f
inventorypro-db  |
inventorypro-app  | ğŸš€ Starting InventoryPro application...
inventorypro-db   | PostgreSQL Database directory appears to contain a database; Skipping initialization
inventorypro-db   |
inventorypro-db   | 2025-08-16 06:05:39.712 UTC [1] LOG:  starting PostgreSQL 15.14 on x86_64-pc-linux-musl, compiled by gcc (Alpine 14.2.0) 14.2.0, 64-bit
inventorypro-app  | â³ Waiting for database connection...
inventorypro-app  | âœ… Database connection established
inventorypro-app  | ğŸ“Š Cleaning existing database...
inventorypro-app  | ğŸ“‹ Verifying clean database...
inventorypro-app  | ğŸ”§ Users table not found, initializing database...
inventorypro-app  | ğŸ“‹ Creating database schema...
inventorypro-app  | Reading config file '/app/drizzle.config.ts'
inventorypro-app  | Using 'pg' driver for database querying
inventorypro-app  | [â£·] Pulling schema from database...
[âœ“] Pulling schema from database...
inventorypro-db   | 2025-08-16 06:05:39.712 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
inventorypro-db   | 2025-08-16 06:05:39.712 UTC [1] LOG:  listening on IPv6 address "::", port 5432
inventorypro-db   | 2025-08-16 06:05:39.713 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
inventorypro-db   | 2025-08-16 06:05:39.716 UTC [29] LOG:  database system was shut down at 2025-08-16 06:03:55 UTC
inventorypro-db   | 2025-08-16 06:05:39.725 UTC [1] LOG:  database system is ready to accept connections
inventorypro-db   | 2025-08-16 06:05:50.481 UTC [45] ERROR:  column "associateCode" of relation "users" does not exist at character 39
inventorypro-db   | 2025-08-16 06:05:50.481 UTC [45] STATEMENT:
inventorypro-db   |             INSERT INTO users (username, "associateCode", "firstName", "lastName", email, role, "isActive")
inventorypro-db   |             VALUES ('admin', 'ADMIN1', 'System', 'Administrator', 'admin@inventorypro.com', 'admin', true)
inventorypro-db   |             ON CONFLICT (username) DO NOTHING;
inventorypro-db   |
inventorypro-db   |             INSERT INTO sales_associates (id, name, email, "userId", "isActive", "createdAt")
inventorypro-db   |             SELECT u.id, 'System Administrator', 'admin@inventorypro.com', u.id, true, NOW()
inventorypro-db   |             FROM users u WHERE u.username = 'admin'
inventorypro-db   |             ON CONFLICT (id) DO NOTHING;
inventorypro-db   |
inventorypro-app  | [âœ“] Changes applied
inventorypro-app  | npm notice
inventorypro-app  | npm notice New major version of npm available! 10.8.2 -> 11.5.2
inventorypro-app  | npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.5.2
inventorypro-db   | 2025-08-16 06:05:56.910 UTC [59] ERROR:  column "associateCode" of relation "users" does not exist at character 39
inventorypro-db   | 2025-08-16 06:05:56.910 UTC [59] STATEMENT:
inventorypro-db   |             INSERT INTO users (username, "associateCode", "firstName", "lastName", email, role, "isActive")
inventorypro-db   |             VALUES ('admin', 'ADMIN1', 'System', 'Administrator', 'admin@inventorypro.com', 'admin', true)
inventorypro-db   |             ON CONFLICT (username) DO NOTHING;
inventorypro-db   |
inventorypro-db   |             INSERT INTO sales_associates (id, name, email, "userId", "isActive", "createdAt")
inventorypro-db   |             SELECT u.id, 'System Administrator', 'admin@inventorypro.com', u.id, true, NOW()
inventorypro-db   |             FROM users u WHERE u.username = 'admin'
inventorypro-db   |             ON CONFLICT (id) DO NOTHING;
inventorypro-db   |
inventorypro-app  | npm notice To update run: npm install -g npm@11.5.2
inventorypro-app  | npm notice
inventorypro-app  | ğŸŒ± Creating default admin user...
inventorypro-app  | âš ï¸  Admin user creation skipped (may already exist)
inventorypro-app  | âœ… Database initialization completed
inventorypro-app  | ğŸ” Performing final health check...
inventorypro-app  | âœ… Database health check passed
inventorypro-app  | ğŸŒ Starting application server...
inventorypro-app  | file:///app/dist/index.js:920
inventorypro-app  |     throw new Error(
inventorypro-app  |           ^
inventorypro-app  |
inventorypro-app  | Error: Could not find the build directory: /app/server/public, make sure to build the client first
inventorypro-app  |     at serveStatic (file:///app/dist/index.js:920:11)
inventorypro-app  |     at file:///app/dist/index.js:969:5
inventorypro-app  |
inventorypro-app  | Node.js v18.20.8
inventorypro-app  | ğŸš€ Starting InventoryPro application...
inventorypro-app  | â³ Waiting for database connection...
inventorypro-app  | âœ… Database connection established
inventorypro-app  | ğŸ“Š Cleaning existing database...
inventorypro-app  | ğŸ“‹ Verifying clean database...
inventorypro-app  | ğŸ”§ Users table not found, initializing database...
inventorypro-app  | ğŸ“‹ Creating database schema...
inventorypro-app  | Reading config file '/app/drizzle.config.ts'
inventorypro-app  | Using 'pg' driver for database querying
inventorypro-app  | [â£·] Pulling schema from database...
[âœ“] Pulling schema from database...
inventorypro-app  | [âœ“] Changes applied
inventorypro-app  | ğŸŒ± Creating default admin user...
inventorypro-app  | âš ï¸  Admin user creation skipped (may already exist)
inventorypro-app  | âœ… Database initialization completed
inventorypro-app  | ğŸ” Performing final health check...
inventorypro-app  | âœ… Database health check passed
inventorypro-app  | ğŸŒ Starting application server...
inventorypro-app  | file:///app/dist/index.js:920
inventorypro-app  |     throw new Error(
inventorypro-app  |           ^
inventorypro-app  |
inventorypro-app  | Error: Could not find the build directory: /app/server/public, make sure to build the client first
inventorypro-app  |     at serveStatic (file:///app/dist/index.js:920:11)
inventorypro-app  |     at file:///app/dist/index.js:969:5
inventorypro-app  |
inventorypro-app  | Node.js v18.20.8
inventorypro-app  | ğŸš€ Starting InventoryPro application...
inventorypro-app  | â³ Waiting for database connection...
inventorypro-app  | âœ… Database connection established
inventorypro-app  | ğŸ“Š Cleaning existing database...
inventorypro-app  | ğŸ“‹ Verifying clean database...
inventorypro-app  | ğŸ”§ Users table not found, initializing database...
inventorypro-app  | ğŸ“‹ Creating database schema...
inventorypro-app  | Reading config file '/app/drizzle.config.ts'
inventorypro-app  | Using 'pg' driver for database querying
inventorypro-app  | [â£·] Pulling schema from database...
[âœ“] Pulling schema from database...
inventorypro-app  | [âœ“] Changes applied
inventorypro-app  | ğŸŒ± Creating default admin user...
inventorypro-db   | 2025-08-16 06:06:03.092 UTC [67] ERROR:  column "associateCode" of relation "users" does not exist at character 39
inventorypro-db   | 2025-08-16 06:06:03.092 UTC [67] STATEMENT:
inventorypro-db   |             INSERT INTO users (username, "associateCode", "firstName", "lastName", email, role, "isActive")
inventorypro-db   |             VALUES ('admin', 'ADMIN1', 'System', 'Administrator', 'admin@inventorypro.com', 'admin', true)
inventorypro-db   |             ON CONFLICT (username) DO NOTHING;
inventorypro-db   |
inventorypro-db   |             INSERT INTO sales_associates (id, name, email, "userId", "isActive", "createdAt")
inventorypro-db   |             SELECT u.id, 'System Administrator', 'admin@inventorypro.com', u.id, true, NOW()
inventorypro-db   |             FROM users u WHERE u.username = 'admin'
inventorypro-db   |             ON CONFLICT (id) DO NOTHING;
inventorypro-db   |
inventorypro-app  | âš ï¸  Admin user creation skipped (may already exist)
inventorypro-app  | âœ… Database initialization completed
inventorypro-app  | ğŸ” Performing final health check...
inventorypro-app  | âœ… Database health check passed
inventorypro-app  | ğŸŒ Starting application server...
inventorypro-app  | file:///app/dist/index.js:920
inventorypro-app  |     throw new Error(
inventorypro-app  |           ^
inventorypro-app  |
inventorypro-app  | Error: Could not find the build directory: /app/server/public, make sure to build the client first
inventorypro-app  |     at serveStatic (file:///app/dist/index.js:920:11)
inventorypro-app  |     at file:///app/dist/index.js:969:5
inventorypro-app  |
inventorypro-app  | Node.js v18.20.8
inventorypro-app exited with code 1
inventorypro-app  | ğŸš€ Starting InventoryPro application...
inventorypro-app  | â³ Waiting for database connection...
inventorypro-app  | âœ… Database connection established
inventorypro-app  | ğŸ“Š Cleaning existing database...
inventorypro-app  | ğŸ“‹ Verifying clean database...
inventorypro-app  | ğŸ”§ Users table not found, initializing database...
inventorypro-app  | ğŸ“‹ Creating database schema...
inventorypro-app  | Reading config file '/app/drizzle.config.ts'
inventorypro-app  | Using 'pg' driver for database querying
inventorypro-app  | [â£·] Pulling schema from database...
[âœ“] Pulling schema from database...
inventorypro-app  | [âœ“] Changes applied
inventorypro-app  | ğŸŒ± Creating default admin user...
inventorypro-db   | 2025-08-16 06:06:09.441 UTC [81] ERROR:  column "associateCode" of relation "users" does not exist at character 39
inventorypro-db   | 2025-08-16 06:06:09.441 UTC [81] STATEMENT:
inventorypro-db   |             INSERT INTO users (username, "associateCode", "firstName", "lastName", email, role, "isActive")
inventorypro-db   |             VALUES ('admin', 'ADMIN1', 'System', 'Administrator', 'admin@inventorypro.com', 'admin', true)
inventorypro-db   |             ON CONFLICT (username) DO NOTHING;
inventorypro-db   |
inventorypro-db   |             INSERT INTO sales_associates (id, name, email, "userId", "isActive", "createdAt")
inventorypro-db   |             SELECT u.id, 'System Administrator', 'admin@inventorypro.com', u.id, true, NOW()
inventorypro-db   |             FROM users u WHERE u.username = 'admin'
inventorypro-db   |             ON CONFLICT (id) DO NOTHING;
inventorypro-db   |
inventorypro-app  | âš ï¸  Admin user creation skipped (may already exist)
inventorypro-app  | âœ… Database initialization completed
inventorypro-app  | ğŸ” Performing final health check...
inventorypro-app  | âœ… Database health check passed
inventorypro-app  | ğŸŒ Starting application server...
inventorypro-app  | file:///app/dist/index.js:920
inventorypro-app  |     throw new Error(
inventorypro-app  |           ^
inventorypro-app  |
inventorypro-app  | Error: Could not find the build directory: /app/server/public, make sure to build the client first
inventorypro-app  |     at serveStatic (file:///app/dist/index.js:920:11)
inventorypro-app  |     at file:///app/dist/index.js:969:5
inventorypro-app  |
inventorypro-app  | Node.js v18.20.8
inventorypro-app exited with code 1
inventorypro-app  | ğŸš€ Starting InventoryPro application...
inventorypro-app  | â³ Waiting for database connection...
inventorypro-app  | âœ… Database connection established
inventorypro-app  | ğŸ“Š Cleaning existing database...
inventorypro-app  | ğŸ“‹ Verifying clean database...
inventorypro-app  | ğŸ”§ Users table not found, initializing database...
inventorypro-app  | ğŸ“‹ Creating database schema...
inventorypro-app  | Reading config file '/app/drizzle.config.ts'
inventorypro-app  | Using 'pg' driver for database querying
inventorypro-app  | [â£·] Pulling schema from database...
[âœ“] Pulling schema from database...
inventorypro-app  | [âœ“] Changes applied
inventorypro-app  | ğŸŒ± Creating default admin user...
inventorypro-db   | 2025-08-16 06:06:16.187 UTC [95] ERROR:  column "associateCode" of relation "users" does not exist at character 39
inventorypro-db   | 2025-08-16 06:06:16.187 UTC [95] STATEMENT:
inventorypro-db   |             INSERT INTO users (username, "associateCode", "firstName", "lastName", email, role, "isActive")
inventorypro-db   |             VALUES ('admin', 'ADMIN1', 'System', 'Administrator', 'admin@inventorypro.com', 'admin', true)
inventorypro-db   |             ON CONFLICT (username) DO NOTHING;
inventorypro-db   |
inventorypro-db   |             INSERT INTO sales_associates (id, name, email, "userId", "isActive", "createdAt")
inventorypro-db   |             SELECT u.id, 'System Administrator', 'admin@inventorypro.com', u.id, true, NOW()
inventorypro-db   |             FROM users u WHERE u.username = 'admin'
inventorypro-db   |             ON CONFLICT (id) DO NOTHING;
inventorypro-db   |
inventorypro-app  | âš ï¸  Admin user creation skipped (may already exist)
inventorypro-app  | âœ… Database initialization completed
inventorypro-app  | ğŸ” Performing final health check...
inventorypro-app  | âœ… Database health check passed
inventorypro-app  | ğŸŒ Starting application server...
inventorypro-app  | file:///app/dist/index.js:920
inventorypro-app  |     throw new Error(
inventorypro-app  |           ^
inventorypro-app  |
inventorypro-app  | Error: Could not find the build directory: /app/server/public, make sure to build the client first
inventorypro-app  |     at serveStatic (file:///app/dist/index.js:920:11)
inventorypro-app  |     at file:///app/dist/index.js:969:5
inventorypro-app  |
inventorypro-app  | Node.js v18.20.8
inventorypro-app exited with code 1